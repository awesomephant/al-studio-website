---
layout: base
class: home
---

<section class="home-projects" data-slide="0" style="--slideCount: {{settings.featured_projects | size}}">
    <div class="home-slides">
        {% for fp in settings.featured_projects %}
        {% assign index = forloop.index %}
        {% for p in collections.project %}
        {% if fp == p.data.title %}
        <figure class="home-project slide">
            <div class="hero-image">
                {% if p.data.featured_image %}
                {% if p.data.featured_image.alt %}
                {% assign alt = p.data.featured_image.alt %}
                {% else %}
                {% assign alt = p.data.title %}
                {% endif %}
                <img alt="{{alt | replace: '"', "'"}}" class='media-item-media landscape'
                    src="{{p.data.featured_image.landscape }}?nf_resize=fit&w=2000" />
                <img alt="{{alt | replace: '"', "'"}}" class='media-item-media portrait'
                    src="{{p.data.featured_image.portrait }}?nf_resize=fit&w=1200" />
                {% else %}
                <img class='media-item-media' src="{{p.data.media[0].url }}?nf_resize=fit&w=2000"
                    alt="{{alt | replace: '"', "'"}}" />
                {% endif %}
            </div>
        </figure>
        {% endif %}
        {% endfor %}
        {% endfor %}
    </div>
    {% for fp in settings.featured_projects %}
    {% assign index = forloop.index %}
    {% for p in collections.project %}
    {% if fp == p.data.title %}
    <aside class="home-caption">
        <h2>
            <a href="{{p.url}}">{{p.data.title}}</a>
            <span class='description'>
                {{p.data.subtitle}}
            </span>
        </h2>
        <span class="home-project--index">
            {{index}}/{{settings.featured_projects | size}}
        </span>
    </aside>
    {% endif %}
    {% endfor %}
    {% endfor %}
</section>